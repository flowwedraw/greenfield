<!DOCTYPE html>
<!-- saved from url=(0060)https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/ -->
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-usecases/ohlcv-complete-guide" data-has-hydrated="true" data-theme="dark" data-rh="lang,dir,class,data-has-hydrated"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="Docusaurus v2.4.3">
<title>Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs | Blockchain Data API (V2)</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.bitquery.io/img/heroImage4.png"><meta data-rh="true" name="twitter:image" content="https://docs.bitquery.io/img/heroImage4.png"><meta data-rh="true" property="og:url" content="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs | Blockchain Data API (V2)"><meta data-rh="true" name="description" content="In this guide, we will see how to get OHLCV (Open, High, Low, Close, Volume) candlestick data—or K-Line data—across different blockchain networks using Bitquery APIs. We’ll also explore how to filter out bot trades, outliers, and abnormally high or low prices to ensure accurate OHLC calculations."><meta data-rh="true" property="og:description" content="In this guide, we will see how to get OHLCV (Open, High, Low, Close, Volume) candlestick data—or K-Line data—across different blockchain networks using Bitquery APIs. We’ll also explore how to filter out bot trades, outliers, and abnormally high or low prices to ensure accurate OHLC calculations."><link data-rh="true" rel="icon" href="https://docs.bitquery.io/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/"><link data-rh="true" rel="alternate" href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="https://docs.bitquery.io/blog/rss.xml" title="Blockchain Data API (V2) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="https://docs.bitquery.io/blog/atom.xml" title="Blockchain Data API (V2) Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com/">
<link rel="preconnect" href="https://www.googletagmanager.com/">
<script type="text/javascript" async="" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/js"></script><script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/banner.js.Без названия" type="text/javascript" id="cookieBanner-6314272" data-cookieconsent="ignore" data-hs-ignore="true" data-loader="hs-scriptloader" data-hsjs-portal="6314272" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/6314272.js.Без названия" type="text/javascript" id="hs-analytics"></script><script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/leadflows.js.Без названия" type="text/javascript" id="LeadFlows-6314272" crossorigin="anonymous" data-leadin-portal-id="6314272" data-leadin-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="6314272" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/web-interactives-embed.js.Без названия" type="text/javascript" id="hubspot-web-interactives-loader" crossorigin="anonymous" data-loader="hs-scriptloader" data-hsjs-portal="6314272" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/fb.js.Без названия" type="text/javascript" id="hs-ads-pixel-6314272" data-ads-portal-id="6314272" data-ads-env="prod" data-loader="hs-scriptloader" data-hsjs-portal="6314272" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script async="" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/gtm.js.Без названия"></script><script async="" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/js(1)"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZWB80TDH9J",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com/">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5GC69JH6",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>




<script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/embed.min.js.Без названия" async="" id="Vz0cwoEYRJW6n5B2JeSeu" domain="www.chatbase.co"></script>
<script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/chatbase-open.js.Без названия" defer="defer"></script><link rel="stylesheet" href="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/styles.2db95959.css">
<link rel="preload" href="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/runtime~main.94f1a4d2.js.Без названия" as="script">
<link rel="preload" href="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/main.19751415.js.Без названия" as="script">
<style id="_goober"> .go2933276541{position:fixed;display:block;width:100%;height:0px;margin:0px;padding:0px;overflow:visible;transform-style:preserve-3d;background:transparent;backface-visibility:hidden;pointer-events:none;left:0px;z-index:9998;}.go2369186930{top:0px;z-index:9999;height:100%;width:100%;}.go1348078617{bottom:0px;}.go2417249464{position:fixed;z-index:9989;}.go3921366393{left:0;bottom:0;}.go3967842156{right:0;bottom:0;}.go613305155{left:0;top:0;}.go471583506{right:0;top:0;}.go3670563033{position:relative;overflow:hidden;display:none;}.go1041095097{display:block;}.go1632949049{position:absolute;pointer-events:none;width:101vw;height:101vh;background:rgba(0,0,0,0.7);opacity:0;z-index:-1;}.go2512015367{z-index:99998;opacity:0.8;visibility:visible;pointer-events:all;cursor:pointer;}.go1432718904{overflow:hidden;}.go812842568{display:block !important;position:static !important;box-sizing:border-box !important;background:transparent !important;border:none;min-height:0px !important;max-height:none !important;margin:0px;padding:0px !important;height:100% !important;width:1px !important;max-width:100% !important;min-width:100% !important;}.go4194603687{z-index:99999;visibility:hidden;position:absolute;inset:50vh auto auto 50%;transform:translate(-50%,-50%);left:50%;top:150%;pointer-events:none;max-height:95%;max-width:95%;}.go4258295619{pointer-events:auto !important;visibility:visible;top:50%;transition:top 0.75s linear(0,0.006,0.023 2.2%,0.096 4.8%,0.532 15.4%,0.72 21%,0.793,0.853 26.7%,0.902,0.941,0.968 36.2%,0.987 39.7%,1 43.7%,1.007 48.3%,1.009 55.3%,1.002 78.2%,1 );}.go456419034{transition:opacity 0.3s ease-in;}.go3128134379{pointer-events:auto !important;visibility:visible !important;max-height:95vh !important;transition:max-height 1s ease-in;}.go494047706{z-index:9999;width:100%;max-height:95%;position:fixed;visibility:hidden;}.go2481764524{z-index:9999;width:100%;max-height:95%;position:fixed;visibility:hidden;bottom:0px;}.go2685733372{visibility:hidden;}.go2985984737{visibility:visible !important;}.go3281949485{pointer-events:auto !important;visibility:visible !important;max-height:95vh !important;transform:none !important;}.go3508454897{z-index:9999;width:100%;max-height:95%;position:fixed;visibility:hidden;transition:transform 1s linear(0,0.006,0.022 2.3%,0.091 5.1%,0.18 7.6%,0.508 16.3%,0.607,0.691,0.762,0.822 28.4%,0.872,0.912 35.1%,0.944 38.9%,0.968 43%,0.985 47.6%,0.996 53.1%,1.001 58.4%,1.003 65.1%,1 );}.go988075951{z-index:9999;position:fixed;left:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;}.go2699082514{z-index:9999;position:fixed;right:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;}.go1595992025{z-index:9999;position:fixed;left:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;}.go1222083472{z-index:9999;position:fixed;right:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;}.go722322694{transition:none !important;}.go26732895{cursor:pointer;}.go2083580917{display:flex;justify-content:center;align-items:center;}</style><meta name="viewport" content="width=device-width, initial-scale=1.0" data-rh="true"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/da57af4e.999dd7e9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/b70f6985.55e46717.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/4ad85961.66bc2132.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/4144071c.ce143a28.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/49bb8dc3.e1fca388.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/17896441.1b04066b.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/0e384e19.1ec5afa4.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/c4f5d8e4.e98f0852.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/ad776868.2e6af93e.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/137b7510.c0c07b49.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/7b761405.ad3d5647.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/17896441.1b04066b.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/6d84b776.e0364f6a.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/4bd2478d.bd11c6a0.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/a468e46b.901c42bb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/41fa0d41.e7b7df6f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/b8418c0b.68b78aa6.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/17896441.1b04066b.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/6c44ac9c.4da7b32b.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/17896441.1b04066b.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/da7cc36a.89881bfa.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/b2389277.bfe41362.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/1be78505.37d1a6eb.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/9bd7a39a.cad4388d.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/935f2afb.c0a2ce1f.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/14eb3368.95e2c8f9.js"><link rel="prefetch" href="https://docs.bitquery.io/assets/js/3d6d56b6.86cc964c.js"><script async="" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/js(2)"></script><script type="text/javascript" async="" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/f.txt"></script></head>
<body class="" data-theme="dark" data-rh="class,data-theme" style="overflow: visible;"><div id="hs-web-interactives-top-push-anchor" class="go3670563033"></div>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5GC69JH6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="https://docs.bitquery.io/"><div class="navbar__logo"><img src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/logoBitqueryWhite.png" alt="Bitquery.io" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a href="https://docs.bitquery.io/v1/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">V1 Docs</a><a aria-current="page" class="navbar__item navbar__link v2-highlight navbar__link--active" href="https://docs.bitquery.io/docs/intro/">V2 Docs</a><a href="https://bitquery.io/forms/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Book Demo</a><a href="https://dexrabbit.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DEX Dashboard</a><a href="https://lite.bitquery.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Free Investigation Tool</a><a href="https://bitquery.substack.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Newsletter</a></div><div class="navbar__items navbar__items--right"><a href="https://account.bitquery.io/user/api_v2/access_tokens" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get your free Access Token</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP" type="button" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"><div class="aa-Autocomplete" role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="autocomplete-0-label"><button type="button" class="aa-DetachedSearchButton"><div class="aa-DetachedSearchButtonIcon"><svg class="aa-SubmitIcon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"></path></svg></div><div class="aa-DetachedSearchButtonPlaceholder">Search...</div><div class="aa-DetachedSearchButtonQuery"></div></button></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://docs.bitquery.io/docs/intro/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://docs.bitquery.io/docs/api-comparison/">API Comparison</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/start/">Start</a><button aria-label="Toggle the collapsible sidebar category &#39;Start&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/authorisation/">Authorisation</a><button aria-label="Toggle the collapsible sidebar category &#39;Authorisation&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/using-the-ide/">Using the IDE</a><button aria-label="Toggle the collapsible sidebar category &#39;Using the IDE&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/building-queries/">Building Queries</a><button aria-label="Toggle the collapsible sidebar category &#39;Building Queries&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/streaming/">Streaming</a><button aria-label="Toggle the collapsible sidebar category &#39;Streaming&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/understanding-cubes/">Understanding Cubes</a><button aria-label="Toggle the collapsible sidebar category &#39;Understanding Cubes&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/l1-chains/">L1 Chains</a><button aria-label="Toggle the collapsible sidebar category &#39;L1 Chains&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/l2-chains/">L2 Chains</a><button aria-label="Toggle the collapsible sidebar category &#39;L2 Chains&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="https://docs.bitquery.io/docs/category/how-to-guides/">How-To Guides</a><button aria-label="Toggle the collapsible sidebar category &#39;How-To Guides&#39;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/MCP/">Building MCPs using Bitquery</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="https://docs.bitquery.io/docs/category/nft-applications/">NFT Applications</a><button aria-label="Toggle the collapsible sidebar category &#39;NFT Applications&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="https://docs.bitquery.io/docs/category/tradingview-charting/">TradingView Charting</a><button aria-label="Toggle the collapsible sidebar category &#39;TradingView Charting&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="https://docs.bitquery.io/docs/category/building-applications-using-kafka/">Building Applications Using Kafka</a><button aria-label="Toggle the collapsible sidebar category &#39;Building Applications Using Kafka&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="https://docs.bitquery.io/docs/category/blockchain-monitoring/">Blockchain Monitoring</a><button aria-label="Toggle the collapsible sidebar category &#39;Blockchain Monitoring&#39;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/">Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/mempool-transaction-fee/">Mempool Transaction Fee Explorer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/monitoring-solana-blockchain-real-time-tutorial/">Monitoring the Solana Blockchain in Real Time - Easy Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/monitoring-solana-at-scale-managing-hundreds-of-addresses/">Monitoring Solana at Scale: Managing 100s of Addresses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/streaming-moonshot-prices/">Tutorial: How to Stream Moonshot Live Prices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/solana-ohlc-calculator/">Build OHLC Values using DEX Trades Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="https://docs.bitquery.io/docs/usecases/real-time-historical-ethereum-price-excel-google-sheets/">How to Track Ethereum Price in USD with Google Sheets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Real-Time Balance Checker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">P&amp;L Calculator</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="https://docs.bitquery.io/docs/category/apps-and-dashboards/">Apps and Dashboards</a><button aria-label="Toggle the collapsible sidebar category &#39;Apps and Dashboards&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="https://docs.bitquery.io/docs/category/bot-building/">Bot Building</a><button aria-label="Toggle the collapsible sidebar category &#39;Bot Building&#39;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/data-in-cloud/">Data in Cloud</a><button aria-label="Toggle the collapsible sidebar category &#39;Data in Cloud&#39;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="https://docs.bitquery.io/docs/category/api-blog/">API Blog</a><button aria-label="Toggle the collapsible sidebar category &#39;API Blog&#39;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="https://docs.bitquery.io/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="https://docs.bitquery.io/docs/category/how-to-guides/"><span itemprop="name">How-To Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="https://docs.bitquery.io/docs/category/blockchain-monitoring/"><span itemprop="name">Blockchain Monitoring</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs</h1><p>In this guide, we will see how to get OHLCV (Open, High, Low, Close, Volume) candlestick data—or K-Line data—across different blockchain networks using Bitquery APIs. We’ll also explore how to filter out bot trades, outliers, and abnormally high or low prices to ensure accurate OHLC calculations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="intervals-in-ohlc"><strong>Intervals in OHLC</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#intervals-in-ohlc" class="hash-link" aria-label="Direct link to intervals-in-ohlc" title="Direct link to intervals-in-ohlc">​</a></h2><p>Bitquery’s OHLC APIs support multiple time intervals, including minutes, hours, days, weeks, and months. You can specify the desired interval in the response field, as shown in the example below:</p><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token object">Block</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token property-query">Time</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">interval</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">in</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">minutes</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">Block {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  Time(interval: {count: 1, in: hours})</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token object">Block</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token property-query">Time</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">interval</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">in</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">days</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">Block {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  Time(interval: {count: 1, in: weeks})</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">Block {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  Time(interval: {count: 1, in: months})</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and so on.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ohlc-on-evm-chains"><strong>OHLC on EVM Chains</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-evm-chains" class="hash-link" aria-label="Direct link to ohlc-on-evm-chains" title="Direct link to ohlc-on-evm-chains">​</a></h2><p>To fetch OHLC (Open, High, Low, Close) data for a specific token pair on EVM-compatible chains like Ethereum, you can use Bitquery’s <code>DEXTradesbyTokens</code>API. Supported networks include:</p><ul><li><strong>Ethereum</strong> → <code>EVM(network: eth)</code></li><li><strong>BNB Chain</strong> → <code>EVM(network: bsc)</code></li><li><strong>Polygon (Matic)</strong> → <code>EVM(network: matic)</code></li><li><strong>Arbitrum</strong> → <code>EVM(network: arbitrum)</code></li><li><strong>Base</strong> → <code>EVM(network: base)</code></li><li><strong>Optimism</strong> → <code>EVM(network: optimism)</code></li></ul><p>For full API documentation, refer to:<br>
<a href="https://docs.bitquery.io/docs/examples/dextrades/token-trades-apis/#get-ohlc-data-for-a-particular-token-pair" target="_blank" rel="noopener noreferrer">Get OHLC Data for a Particular Token Pair</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-query"><strong>Sample Query</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#sample-query" class="hash-link" aria-label="Direct link to sample-query" title="Direct link to sample-query">​</a></h3><p>The following GraphQL query retrieves OHLCV data for an Ethereum token pair:</p><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token keyword" style="color: rgb(189, 147, 249); font-style: italic;">query</span><span class="token plain"> </span><span class="token definition-query function" style="color: rgb(80, 250, 123);">tradingViewPairs</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token constant" style="color: rgb(189, 147, 249);">EVM</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">network</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">eth</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token property-query">DEXTradeByTokens</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">orderBy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">ascendingByField</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Block_Time"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">where</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Trade</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Side</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Amount</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">gt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"0"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">              </span><span class="token attr-name" style="color: rgb(241, 250, 140);">SmartContract</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">                </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">              </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">SmartContract</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"0xdac17f958d2ee523a2206206994597c13d831ec7"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">PriceAsymmetry</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">lt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">0.5</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Block</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token property-query">Time</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">interval</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">in</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">minutes</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Trade</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">open</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Number</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">close</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Number</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">max</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">min</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">volume</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property-query">sum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">of</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_Side_Amount</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ohlc-on-non-evm-chains"><strong>OHLC on Non-EVM Chains</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-non-evm-chains" class="hash-link" aria-label="Direct link to ohlc-on-non-evm-chains" title="Direct link to ohlc-on-non-evm-chains">​</a></h2><p>Bitquery also supports non-EVM chains, such as <strong>Solana</strong> and <strong>Tron</strong>, enabling you to retrieve OHLC data for these networks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ohlc-on-solana"><strong>OHLC on Solana</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-solana" class="hash-link" aria-label="Direct link to ohlc-on-solana" title="Direct link to ohlc-on-solana">​</a></h2><p>For a detailed guide, visit:<br>
<a href="https://docs.bitquery.io/docs/examples/Solana/historical-aggregate-data/#historical-ohlc-on-solana" target="_blank" rel="noopener noreferrer">Historical OHLC on Solana</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sample-query-1"><strong>Sample Query</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#sample-query-1" class="hash-link" aria-label="Direct link to sample-query-1" title="Direct link to sample-query-1">​</a></h4><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token property-query">Solana</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">dataset</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">combined</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token property-query">DEXTradeByTokens</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">orderBy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">descendingByField</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Block_Timefield"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">where</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Trade</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">MintAddress</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Side</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">              </span><span class="token attr-name" style="color: rgb(241, 250, 140);">MintAddress</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"So11111111111111111111111111111111111111112"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">PriceAsymmetry</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">lt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">0.1</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">limit</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Block</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Timefield</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Time</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">interval</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">in</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">days</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">volume</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property-query">sum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">of</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_Amount</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Trade</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">high</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">low</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">open</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Slot</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">close</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Price</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Slot</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token property">count</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ohlc-on-tron"><strong>OHLC on Tron</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-tron" class="hash-link" aria-label="Direct link to ohlc-on-tron" title="Direct link to ohlc-on-tron">​</a></h2><p>For details, visit:<br>
<a href="https://docs.bitquery.io/docs/examples/Tron/tron-dextrades/#get-ohlc-data-of-a-token-on-tron-network" target="_blank" rel="noopener noreferrer">OHLC Data on Tron</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sample-query-2"><strong>Sample Query</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#sample-query-2" class="hash-link" aria-label="Direct link to sample-query-2" title="Direct link to sample-query-2">​</a></h4><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token keyword" style="color: rgb(189, 147, 249); font-style: italic;">query</span><span class="token plain"> </span><span class="token definition-query function" style="color: rgb(80, 250, 123);">tradingViewPairs</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token object">Tron</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token property-query">DEXTradeByTokens</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">orderBy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">ascendingByField</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Block_Time"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">where</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Trade</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Side</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Amount</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">gt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"0"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">              </span><span class="token attr-name" style="color: rgb(241, 250, 140);">SmartContract</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Currency</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            </span><span class="token attr-name" style="color: rgb(241, 250, 140);">SmartContract</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">is</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"TJ9mxWPmQSJswqMakEehFWcAntg73odiAq"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          </span><span class="token attr-name" style="color: rgb(241, 250, 140);">PriceAsymmetry</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">lt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">0.1</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Block</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token property-query">Time</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">interval</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">count</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">in</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property">minutes</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token object">Trade</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">open</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Number</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">close</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Block_Number</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">max</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">maximum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        </span><span class="token attr-name" style="color: rgb(241, 250, 140);">min</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">minimum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_PriceInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      </span><span class="token attr-name" style="color: rgb(241, 250, 140);">volume</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token property-query">sum</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token attr-name" style="color: rgb(241, 250, 140);">of</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token class-name">Trade_Side_Amount</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="real-time-ohlc">Real-time OHLC<a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#real-time-ohlc" class="hash-link" aria-label="Direct link to Real-time OHLC" title="Direct link to Real-time OHLC">​</a></h2><p>In EVM and non-EVM chains, you can also use <code>subscription</code> to get a token pair with a high or low value.
<a href="https://ide.bitquery.io/seconds-oHLC-realtime-solana-example" target="_blank" rel="noopener noreferrer">Run Stream ➤</a></p><p>Take this query below for example;</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">subscription LatestTrades {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  Solana {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    DEXTradeByTokens(</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      where: {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Transaction: { Result: { Success: true } }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Trade: { </span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Currency: { MintAddress: { is: "3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh" } }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Side: { Currency: { MintAddress: { is: "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v" } } }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    ) {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      min: quantile(of: Trade_PriceInUSD, level: 0.05)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      max: quantile(of: Trade_PriceInUSD, level: 0.95)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      volume: sum(of: Trade_Side_AmountInUSD)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      Trade {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Market {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          MarketAddress</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Dex {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          ProtocolName</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          ProtocolFamily</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        close: PriceInUSD</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Side {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Type</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Currency {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            Symbol</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            MintAddress</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            Name</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      Block {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Time(interval: { count: 1, in: seconds })</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">}</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain" style="display: inline-block;"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This GraphQL <strong>subscription</strong> query is fetching real-time <strong>OHLC (Open, High, Low, Close)</strong> data for Solana trades by continuously monitoring and streaming the latest trades.</p><p><strong>Calculating OHLC-Like Metrics</strong></p><ul><li><strong><code>min</code></strong> → <strong>5th percentile</strong> price (<code>quantile(of: Trade_PriceInUSD, level: 0.05)</code>)<ul><li>What is the price of the token for lowest 5% of the trades?</li></ul></li><li><strong><code>max</code></strong> → <strong>95th percentile</strong> price (<code>quantile(of: Trade_PriceInUSD, level: 0.95)</code>)<ul><li>What is the price of the token for top 5% of the trades?</li></ul></li><li><strong><code>close</code></strong> → The latest trade price (<code>PriceInUSD</code>).</li><li><strong><code>volume</code></strong> → Total trade volume in USD (<code>sum(of: Trade_Side_AmountInUSD)</code>) over the interval.</li></ul><ol start="4"><li><p><strong>Streaming the Data Continuously</strong>:</p><ul><li>Because this is a <strong>subscription</strong>, every time a new trade happens on Solana for this token pair, the latest price data is sent.</li><li>The latest <strong>closing price (<code>close</code>)</strong> is updated dynamically as new trades occur.</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-is-real-time-ohlc"><strong>Why This Is "Real-Time" OHLC?</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#why-this-is-real-time-ohlc" class="hash-link" aria-label="Direct link to why-this-is-real-time-ohlc" title="Direct link to why-this-is-real-time-ohlc">​</a></h3><ul><li>The query continuously <strong>monitors</strong> the latest <strong>trades</strong> on Solana.</li><li>Each trade updates the <strong>latest close price (<code>close</code>)</strong>.</li><li>The <strong>high (<code>max</code>) and low (<code>min</code>)</strong> prices adjust dynamically based on the last 50 trades.</li><li>It provides <strong>near real-time OHLC-like data</strong> without waiting for the full candle interval.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations"><strong>Limitations</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#limitations" class="hash-link" aria-label="Direct link to limitations" title="Direct link to limitations">​</a></h3><ul><li>This is <strong>not true OHLC</strong> because:<ul><li>It does not aggregate price data strictly by time intervals (e.g., every 5 min, 1h).</li><li>The <strong>open price</strong> (first trade of the interval) is missing.</li><li>It works based on a <strong>rolling window of the latest trades</strong>, not fixed time slots.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filtering-abnormal-prices"><strong>Filtering Abnormal Prices</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#filtering-abnormal-prices" class="hash-link" aria-label="Direct link to filtering-abnormal-prices" title="Direct link to filtering-abnormal-prices">​</a></h2><p>When fetching trade data from Bitquery APIs, you may encounter abnormal prices. These anomalies occur due to two primary reasons:</p><ol><li><strong>Legitimate but unusual trades</strong> – The data is correct (can be verified via an explorer like Etherscan), but bot activity may cause extreme price variations.</li><li><strong>Incorrect trade data in Bitquery’s database</strong> – If you suspect incorrect data, report the issue by creating a support ticket.</li></ol><p>For a complete guide, visit:<br>
<a href="https://docs.bitquery.io/docs/usecases/how-to-filter-anomaly-prices/" target="_blank" rel="noopener noreferrer">How to Filter Anomalous Prices</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="methods-to-filter-anomalous-trades"><strong>Methods to Filter Anomalous Trades</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#methods-to-filter-anomalous-trades" class="hash-link" aria-label="Direct link to methods-to-filter-anomalous-trades" title="Direct link to methods-to-filter-anomalous-trades">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-using-price-asymmetry"><strong>1. Using Price Asymmetry</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#1-using-price-asymmetry" class="hash-link" aria-label="Direct link to 1-using-price-asymmetry" title="Direct link to 1-using-price-asymmetry">​</a></h4><ul><li>Measures the USD value difference between traded tokens.</li><li>To filter extreme trades, use:<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">PriceAsymmetry</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token attr-name" style="color: rgb(241, 250, 140);">lt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token number">0.1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>(This removes trades where the price difference exceeds 10%).</li><li>Additionally, remove low-value trades:<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> </span><span class="token attr-name" style="color: rgb(241, 250, 140);">Trade</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token attr-name" style="color: rgb(241, 250, 140);">AmountInUSD</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token attr-name" style="color: rgb(241, 250, 140);">lt</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"10"</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-using-quantiles"><strong>2. Using Quantiles</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#2-using-quantiles" class="hash-link" aria-label="Direct link to 2-using-quantiles" title="Direct link to 2-using-quantiles">​</a></h4><ul><li>Quantiles divide data into percentiles, helping detect outliers.</li><li>Example:<ul><li><strong>75th percentile (<code>level: 0.75</code>)</strong> → 75% of values are below this.</li><li><strong>25th percentile (<code>level: 0.25</code>)</strong> → 25% of values are below this.</li></ul></li><li>To filter extreme values, keep trades only between the <strong>5th and 95th percentiles</strong>.</li></ul><p>For more details, check:<br>
<a href="https://docs.bitquery.io/docs/graphql/metrics/quantile/" target="_blank" rel="noopener noreferrer">Quantile Documentation</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-fetch-all-trades-and-filter-manually"><strong>3. Fetch All Trades and Filter Manually</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#3-fetch-all-trades-and-filter-manually" class="hash-link" aria-label="Direct link to 3-fetch-all-trades-and-filter-manually" title="Direct link to 3-fetch-all-trades-and-filter-manually">​</a></h4><ul><li>Retrieve all trade data from Bitquery.</li><li>Apply custom filters, such as:<ul><li>Calculating the <strong>5th and 95th percentiles</strong> of trade prices.</li><li>Keeping only trades within this range.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-and-reporting-incorrect-ohlc-data"><strong>Checking and Reporting Incorrect OHLC Data</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#checking-and-reporting-incorrect-ohlc-data" class="hash-link" aria-label="Direct link to checking-and-reporting-incorrect-ohlc-data" title="Direct link to checking-and-reporting-incorrect-ohlc-data">​</a></h2><p>If your OHLC data differs significantly from other providers, you should:</p><ul><li>Check if <strong>Price Asymmetry</strong> and other filters (as discussed above) are applied.</li><li>If there’s still a <strong>huge discrepancy</strong>, report the issue by creating a ticket at:<br><a href="https://support.bitquery.io/" target="_blank" rel="noopener noreferrer">Bitquery Support</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-scenario">Example Scenario<a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#example-scenario" class="hash-link" aria-label="Direct link to Example Scenario" title="Direct link to Example Scenario">​</a></h3><p>For example if you check the OHLC for this token <code>J3TqbUgHurQGNxWtT88UQPcMNVmrL875pToQZdrkpump</code> again WSOL,</p><p>Take this query <a href="https://ide.bitquery.io/quantile" target="_blank" rel="noopener noreferrer">https://ide.bitquery.io/quantile</a> which includes both OHLC using <code>maximum</code>, <code>minimum</code> and using <code>quantile</code> and removes small trades using <code>AmountinUSD &gt;10</code> filter.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #F8F8F2; --prism-background-color: #282A36;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">{</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  Solana(dataset: combined) {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    DEXTradeByTokens(</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      orderBy: {descendingByField: "Block_Timefield"}</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      where: {Trade: {Currency: {MintAddress: {is: "J3TqbUgHurQGNxWtT88UQPcMNVmrL875pToQZdrkpump"}}, Side: {Currency: {MintAddress: {is: "So11111111111111111111111111111111111111112"}}, AmountInUSD: {gt: "10"}}}}</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      limit: {count: 10}</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    ) {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      Block {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Timefield: Time(interval: {in: days, count: 1})</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      volume: sum(of: Trade_Side_AmountInUSD)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      min1: quantile(of: Trade_PriceInUSD, level: 0.05)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      max1: quantile(of: Trade_PriceInUSD, level: 0.95)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      close1: median(of: Trade_PriceInUSD)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      open1: median(of: Trade_PriceInUSD)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      Trade {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Currency {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Name</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        high: PriceInUSD(maximum: Trade_Price)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        low: PriceInUSD(minimum: Trade_Price)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        open: PriceInUSD(minimum: Block_Slot)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        close: PriceInUSD(maximum: Block_Slot)</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        Side {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          Currency {</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">            Name</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">          }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">        }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">      count</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  }</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">}</span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain" style="display: inline-block;"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you compare the results of the two, you see smoothening of spikes.</p><p><strong>Example 1 (March 2, 2025)</strong></p><ul><li><p><strong>Without quantile filtering:</strong></p><ul><li><code>high</code>: 0.00043009940205914187 (Very high)</li><li><code>low</code>: 0.00034041182935594274</li></ul></li><li><p><strong>With quantile filtering:</strong></p><ul><li><code>max1</code>: 0.0004214320331811905 (Lower than raw high → filters extreme spike)</li><li><code>min1</code>: 0.0003484918735921383 (Higher than raw low → removes low extremes)</li></ul></li></ul><p><em>Effect:</em> The high (<code>max1</code>) and low (<code>min1</code>) values are adjusted to remove extreme spikes.</p><p><strong>Example 2 (February 27, 2025)</strong></p><ul><li><strong>Without quantile filtering:</strong><ul><li><code>close</code>: 0.0003147996409415908</li><li><code>high</code>: 0.00033683591504094873</li><li><code>low</code>: 0.000254437945561626 (Low outlier)</li><li><code>open</code>: 0.00030726648293986935</li></ul></li><li><strong>With quantile filtering:</strong><ul><li><code>close1</code>: 0.0003042437473777681</li><li><code>max1</code>: 0.00032312784204259514</li><li><code>min1</code>: 0.00028326141997240487 (Higher than raw low, outlier removed)</li><li><code>open1</code>: 0.0003042437473777681</li></ul></li></ul><p><em>Effect:</em> The low (<code>min1</code>) is adjusted upwards, likely removing an extreme drop.</p><ul><li>Smoothing high price spikes (<code>max1</code> is lower than <code>high</code>)</li><li>Removing sharp downward price drops (<code>min1</code> is higher than <code>low</code>)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternative-calculating-ohlc-from-trades-without-aggregating-in-graphql-query"><strong>Alternative: Calculating OHLC from Trades Without Aggregating in GraphQL Query</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#alternative-calculating-ohlc-from-trades-without-aggregating-in-graphql-query" class="hash-link" aria-label="Direct link to alternative-calculating-ohlc-from-trades-without-aggregating-in-graphql-query" title="Direct link to alternative-calculating-ohlc-from-trades-without-aggregating-in-graphql-query">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-of-the-ohlc-api">Limitations of the OHLC API<a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#limitations-of-the-ohlc-api" class="hash-link" aria-label="Direct link to Limitations of the OHLC API" title="Direct link to Limitations of the OHLC API">​</a></h3><ul><li>The Solana OHLC API includes data starting from May 2024 to now only.</li><li>While you can add filters as shown above to filter only valuable trades, it is not fool-proof and might not work with all tokens especially memecoins.</li></ul><p>If you prefer not to use an aggregated GraphQL query, you can fetch raw trade data and manually compute OHLC values.</p><p>Complete guide to <a href="https://docs.bitquery.io/docs/usecases/solana-ohlc-calculator/" target="_blank" rel="noopener noreferrer">using trades to calculate OHLC is available here</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-tradingview-charts"><strong>Building TradingView Charts</strong><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#building-tradingview-charts" class="hash-link" aria-label="Direct link to building-tradingview-charts" title="Direct link to building-tradingview-charts">​</a></h2><p>To visualize OHLCV data using <strong>TradingView Advanced Chart Library</strong>, refer to:</p><ul><li><a href="https://docs.bitquery.io/docs/usecases/tradingview-advanced-charts/getting-started/" target="_blank" rel="noopener noreferrer">TradingView Advanced Charts Guide</a></li><li><a href="https://docs.bitquery.io/docs/usecases/tradingview-subscription-realtime/getting-started/" target="_blank" rel="noopener noreferrer">TradingView Real-Time Subscription</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bitquery/streaming-data-platform-docs/tree/main/docs/usecases/ohlcv-complete-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="https://docs.bitquery.io/docs/category/blockchain-monitoring/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Blockchain Monitoring</div></a><a class="pagination-nav__link pagination-nav__link--next" href="https://docs.bitquery.io/docs/usecases/mempool-transaction-fee/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mempool Transaction Fee Explorer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#intervals-in-ohlc" class="table-of-contents__link toc-highlight"><strong>Intervals in OHLC</strong></a></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-evm-chains" class="table-of-contents__link toc-highlight"><strong>OHLC on EVM Chains</strong></a><ul><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#sample-query" class="table-of-contents__link toc-highlight table-of-contents__link--active"><strong>Sample Query</strong></a></li></ul></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-non-evm-chains" class="table-of-contents__link toc-highlight"><strong>OHLC on Non-EVM Chains</strong></a></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-solana" class="table-of-contents__link toc-highlight"><strong>OHLC on Solana</strong></a></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#ohlc-on-tron" class="table-of-contents__link toc-highlight"><strong>OHLC on Tron</strong></a></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#real-time-ohlc" class="table-of-contents__link toc-highlight">Real-time OHLC</a><ul><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#why-this-is-real-time-ohlc" class="table-of-contents__link toc-highlight"><strong>Why This Is "Real-Time" OHLC?</strong></a></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#limitations" class="table-of-contents__link toc-highlight"><strong>Limitations</strong></a></li></ul></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#filtering-abnormal-prices" class="table-of-contents__link toc-highlight"><strong>Filtering Abnormal Prices</strong></a><ul><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#methods-to-filter-anomalous-trades" class="table-of-contents__link toc-highlight"><strong>Methods to Filter Anomalous Trades</strong></a></li></ul></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#checking-and-reporting-incorrect-ohlc-data" class="table-of-contents__link toc-highlight"><strong>Checking and Reporting Incorrect OHLC Data</strong></a><ul><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#example-scenario" class="table-of-contents__link toc-highlight">Example Scenario</a></li></ul></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#alternative-calculating-ohlc-from-trades-without-aggregating-in-graphql-query" class="table-of-contents__link toc-highlight"><strong>Alternative: Calculating OHLC from Trades Without Aggregating in GraphQL Query</strong></a><ul><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#limitations-of-the-ohlc-api" class="table-of-contents__link toc-highlight">Limitations of the OHLC API</a></li></ul></li><li><a href="https://docs.bitquery.io/docs/usecases/ohlcv-complete-guide/#building-tradingview-charts" class="table-of-contents__link toc-highlight"><strong>Building TradingView Charts</strong></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://bitquery.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://docs.bitquery.io/v1/" target="_blank" rel="noopener noreferrer" class="footer__link-item">V1 Docs</a></li><li class="footer__item"><a class="footer__link-item" href="https://docs.bitquery.io/docs/intro/">V2 Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/Bloxy_info" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Bitquery_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.bitquery.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/bitquery" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://bitquery.io/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Bitquery, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/runtime~main.94f1a4d2.js.Без названия"></script>
<script src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/main.19751415.js.Без названия"></script>

<script id="hs-script-loader" text="" charset="" type="text/javascript" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/6314272(1).js.Без названия"></script>


<div class="go2933276541 go2369186930" id="hs-web-interactives-top-anchor"><div id="hs-interactives-modal-overlay" class="go1632949049"></div></div>
<div class="go2933276541 go1348078617" id="hs-web-interactives-bottom-anchor"></div>
<div id="hs-web-interactives-floating-container">
  <div id="hs-web-interactives-floating-top-left-anchor" class="go2417249464 go613305155">
  </div>
  <div id="hs-web-interactives-floating-top-right-anchor" class="go2417249464 go471583506">
  </div>
  <div id="hs-web-interactives-floating-bottom-left-anchor" class="go2417249464 go3921366393">
  </div>
  <div id="hs-web-interactives-floating-bottom-right-anchor" class="go2417249464 go3967842156">
  </div>
</div><iframe allow="join-ad-interest-group" data-tagging-id="AW-11376996312" data-load-time="1752165373969" height="0" width="0" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/11376996312.html" style="display: none; visibility: hidden;"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/saved_resource.html"></iframe>
<style>
#chatbase-bubble-button,
#chatbase-bubble-button * {
margin: 0;
padding: 0;
box-sizing: border-box;
}
html.__cb_widget_active,
html.__cb_widget_active body {
position: fixed !important;
top: 0;
left: 0;
overscroll-behavior: none;
width: 0 !important;
height: 0 !important;
margin: 0 !important;
overflow: hidden !important;
overflow-y: hidden !important;
overflow-x: hidden !important;
transform: none !important;
}

#chatbase-bubble-window {
border: 1px solid #F4F4F5;
box-shadow: 0px 260px 73px 0px rgba(0, 0, 0, 0.00), 0px 166px 67px 0px rgba(0, 0, 0, 0.01), 0px 94px 56px 0px rgba(0, 0, 0, 0.02), 0px 42px 42px 0px rgba(0, 0, 0, 0.03), 0px 10px 23px 0px rgba(0, 0, 0, 0.04);
backdrop-filter: blur(4px);
-webkit-backdrop-filter: blur(4px);
}

</style><div id="chatbase-message-bubbles" style="position: fixed; bottom: 85px; border-radius: 10px; font-family: sans-serif; font-size: 16px; z-index: 2147483644; cursor: pointer; flex-direction: column; gap: 50px; max-width: 70vw; display: none;"><div style="position: absolute; top: -7px; right: -7px; font-weight: bold; display: none; justify-content: center; align-items: center; z-index: 2147483643; width: 22px; height: 22px; border-radius: 50%; text-align: center; font-size: 12px; cursor: pointer;">✕</div></div><div id="chatbase-bubble-window" style="border: none; position: fixed; flex-direction: column; justify-content: space-between; bottom: 85px; right: 1rem; width: 406px; height: 85dvh; max-height: 824px; border-radius: 1.25rem; display: none; z-index: 2147483646; overflow: hidden;"><div style="display: flex; justify-content: center; height: 100%; align-items: center;"></div><iframe style="height: 100%; width: 100%; border: none; display: none;" src="./Complete Guide to Building the Perfect OHLCV Data Using Bitquery APIs _ Blockchain Data API (V2)_files/saved_resource(1).html"></iframe></div></body></html>